export APP_ENV=dev
export DEVELOPER_NAME=shubham
#export DEVELOPER_WORKSPACE=

export SERVER_PORT=8081

# MYSQL DATABASE
# ============================================================================
export DB_HOST=localhost
export DB_PORT=3306
export DB_NAME=caredb
export DB_MYSQL_USERNAME=root
export DB_MYSQL_PASSWORD=password

# JPA/Hibernate Settings
export DB_MYSQL_JPA_DDL_AUTO=validate
export DB_MYSQL_JPA_DIALECT=org.hibernate.dialect.MySQL8Dialect
export DB_MYSQL_JPA_PHYSICAL_STRATEGY=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
export DB_MYSQL_JPA_IMPLICIT_STRATEGY=org.hibernate.boot.model.naming.ImplicitNamingStrategyLegacyJpaImpl

# Show SQL statements in console
export DB_MYSQL_JPA_SHOW_SQL=true
export DB_MYSQL_JPA_FORMAT_SQL=true
export DB_MYSQL_JPA_USE_SQL_COMMENTS=true

# Performance Settings
export DB_MYSQL_JDBC_BATCH_SIZE=20
export DB_MYSQL_JDBC_FETCH_SIZE=50
export DB_MYSQL_CACHE_SECOND_LEVEL=true
export DB_MYSQL_CACHE_QUERY=true
export DB_MYSQL_CACHE_FACTORY=org.hibernate.cache.jcache.JCacheRegionFactory

# Statistics (enable in dev)
export DB_MYSQL_GENERATE_STATISTICS=false

# Connection Provider
export DB_MYSQL_DISABLE_AUTOCOMMIT=true

# MySQL-specific application settings

# Query timeout (seconds)
export DB_MYSQL_QUERY_TIMEOUT=30

# Statement timeout (seconds)
export DB_MYSQL_STATEMENT_TIMEOUT=60

# Allow public key retrieval (for SSL)
export DB_MYSQL_ALLOW_PUBLIC_KEY_RETRIEVAL=true

# Use SSL
export DB_MYSQL_USE_SSL=false

# Server timezone
export DB_MYSQL_SERVER_TIMEZONE=UTC


# POSTGRESQL DATABASE
# ============================================================================
export DB_HOST=localhost
export DB_PORT=5432
export DB_NAME=CareXMain
# DB_POSTGRES_URL=jdbc:postgresql://localhost:5432/CareXMain
export DB_POSTGRES_USERNAME=root
export DB_POSTGRES_PASSWORD=1234

# Connection Pool Configuration (HikariCP)
export DB_POSTGRES_POOL_MIN_SIZE=5
export DB_POSTGRES_POOL_MAX_SIZE=20
export DB_POSTGRES_POOL_IDLE_TIMEOUT=600000
export DB_POSTGRES_POOL_CONNECTION_TIMEOUT=30000
export DB_POSTGRES_POOL_MAX_LIFETIME=1800000

# JPA/Hibernate Settings
export DB_POSTGRES_JPA_DDL_AUTO=validate
export DB_POSTGRES_JPA_DIALECT=org.hibernate.dialect.PostgreSQLDialect
export DB_POSTGRES_JPA_PHYSICAL_STRATEGY=org.hibernate.boot.model.naming.PhysicalNamingStrategyStandardImpl
export DB_POSTGRES_JPA_SHOW_SQL=false
export DB_POSTGRES_JPA_FORMAT_SQL=true
export DB_POSTGRES_JDBC_BATCH_SIZE=20
export DB_POSTGRES_LOB_NON_CONTEXTUAL=true
export DB_POSTGRES_USE_JDBC_METADATA=false

# Postgres SQL-specific optimizations
export DB_POSTGRES_STORAGE_ENGINE=postgres

# PostgreSQL-specific settings
export DB_POSTGRES_DEFAULT_SCHEMA=public

# SSL Mode (disable, allow, prefer, require, verify-ca, verify-full)
export DB_POSTGRES_SSL_MODE=prefer

# Connection init SQL
export DB_POSTGRES_CONNECTION_INIT_SQL=SELECT 1

# Application name (shows in pg_stat_activity)
#DB_POSTGRES_APPLICATION_NAME=

# Query timeout (seconds)
export DB_POSTGRES_QUERY_TIMEOUT=30

# Socket timeout (seconds)
export DB_POSTGRES_SOCKET_TIMEOUT=60

# Login timeout (seconds)
export DB_POSTGRES_LOGIN_TIMEOUT=10

# REDIS
# ============================================================================

export REDIS_HOST=localhost
export REDIS_PORT=6379
export REDIS_PASSWORD=
export REDIS_DATABASE=0


# Timeout Settings (milliseconds)
export REDIS_TIMEOUT=5000
export REDIS_CONNECT_TIMEOUT=3000

# Connection Pool Settings (Lettuce)
export REDIS_POOL_MAX_ACTIVE=8
export REDIS_POOL_MAX_IDLE=8
export REDIS_POOL_MIN_IDLE=2
export REDIS_POOL_MAX_WAIT=-1

# Pool eviction settings
export REDIS_POOL_EVICTION_INTERVAL=60000
export REDIS_POOL_EVICTION_TESTS=3
export REDIS_POOL_MIN_EVICTABLE_IDLE=1800000

# SSL Settings
export REDIS_SSL_ENABLED=false

# Sentinel Configuration (for HA)
export REDIS_SENTINEL_ENABLED=false
export REDIS_SENTINEL_MASTER=mymaster
export REDIS_SENTINEL_NODES:sentinel1=26379,sentinel2=26379,sentinel3=26379
export REDIS_SENTINEL_PASSWORD=

# Cluster Configuration (for horizontal scaling)
export REDIS_CLUSTER_ENABLED=false
export REDIS_CLUSTER_NODES:localhost=7000,localhost=7001,localhost=7002
export REDIS_CLUSTER_MAX_REDIRECTS=3

# Lettuce Client Options
export REDIS_LETTUCE_SHUTDOWN_TIMEOUT=2000

# Cache Configuration

# Default TTL (seconds)
REDIS_CACHE_DEFAULT_TTL=3600

# Cache-specific TTLs
export REDIS_CACHE_TTL_USERS=1800
export REDIS_CACHE_TTL_SESSIONS=7200
export REDIS_CACHE_TTL_TOKENS=900
export REDIS_CACHE_TTL_METADATA=86400

# Cache key prefix
#REDIS_CACHE_KEY_PREFIX=

# Enable cache statistics
export REDIS_CACHE_STATISTICS=true

# Spring Cache Configuration
export SPRING_CACHE_TTL=3600000
export SPRING_CACHE_NULL_VALUES=false
export SPRING_CACHE_USE_PREFIX=true
export SPRING_CACHE_KEY_PREFIX=cache



# KAFKA
# ============================================================================
export KAFKA_BOOTSTRAP_SERVERS=localhost:9092

# Producer Configuration
export KAFKA_PRODUCER_KEY_SERIALIZER=org.apache.kafka.common.serialization.StringSerializer
export KAFKA_PRODUCER_VALUE_SERIALIZER=org.apache.kafka.common.serialization.StringSerializer

# Acknowledgment Settings
export KAFKA_PRODUCER_ACKS=all
export KAFKA_PRODUCER_RETRIES=3
export KAFKA_PRODUCER_RETRY_BACKOFF=1000

# Batching Settings
export KAFKA_PRODUCER_BATCH_SIZE=16384
export KAFKA_PRODUCER_LINGER_MS=10
export KAFKA_PRODUCER_BUFFER_MEMORY=33554432

# Compression
export KAFKA_PRODUCER_COMPRESSION=snappy

# Idempotence
export KAFKA_PRODUCER_IDEMPOTENCE=true

# Transaction Settings
export KAFKA_PRODUCER_TRANSACTIONAL_ID:
export KAFKA_PRODUCER_TX_TIMEOUT=60000

# Performance Tuning
export KAFKA_PRODUCER_MAX_IN_FLIGHT=5
export KAFKA_PRODUCER_REQUEST_TIMEOUT=30000
export KAFKA_PRODUCER_DELIVERY_TIMEOUT=120000

# Metadata
export KAFKA_PRODUCER_MAX_BLOCK=60000

# Consumer Configuration # Deserializers
export KAFKA_CONSUMER_KEY_DESERIALIZER=org.apache.kafka.common.serialization.StringDeserializer
export KAFKA_CONSUMER_VALUE_DESERIALIZER=org.apache.kafka.common.serialization.StringDeserializer

export KAFKA_CONSUMER_GROUP_ID=john-consumer-group

# Offset Management
export KAFKA_CONSUMER_OFFSET_RESET=earliest
export KAFKA_CONSUMER_AUTO_COMMIT=true
export KAFKA_CONSUMER_COMMIT_INTERVAL=5000

# Session Management
export KAFKA_CONSUMER_SESSION_TIMEOUT=30000
export KAFKA_CONSUMER_HEARTBEAT_INTERVAL=3000
export KAFKA_CONSUMER_MAX_POLL_INTERVAL=300000

# Polling
export KAFKA_CONSUMER_MAX_POLL_RECORDS=500
export KAFKA_CONSUMER_FETCH_MIN_BYTES=1
export KAFKA_CONSUMER_FETCH_MAX_WAIT=500

# Isolation Level
KAFKA_CONSUMER_ISOLATION_LEVEL=read_committed

# Admin Configuration # Connection Timeout
KAFKA_ADMIN_REQUEST_TIMEOUT=30000

# Default Replication Factor
KAFKA_ADMIN_REPLICATION_FACTOR=3

# Default Partition Count
KAFKA_ADMIN_PARTITION_COUNT=3

# Security Configuration
KAFKA_SECURITY_PROTOCOL=PLAINTEXT

# SSL Settings (if protocol = SSL or SASL_SSL)
export KAFKA_SSL_TRUSTSTORE_LOCATION=
export KAFKA_SSL_TRUSTSTORE_PASSWORD=
export KAFKA_SSL_KEYSTORE_LOCATION=
export KAFKA_SSL_KEYSTORE_PASSWORD=
export KAFKA_SSL_KEY_PASSWORD=

# SASL Settings (if protocol SASL_*)
export KAFKA_SASL_MECHANISM=PLAIN
export KAFKA_SASL_JAAS_CONFIG=

# Spring Kafka Configuration  # Listener Configuration

# Concurrency (number of consumer threads)
export KAFKA_LISTENER_CONCURRENCY=3

# Acknowledgment Mode
export KAFKA_LISTENER_ACK_MODE=batch

# Error Handling
export KAFKA_LISTENER_TYPE=batch

# Template Configuration
export KAFKA_TEMPLATE_DEFAULT_TOPIC=default-topic

# Application-Specific Topics

# User Events
export KAFKA_TOPIC_USER_EVENTS=user.events
export KAFKA_TOPIC_USER_EVENTS_PARTITIONS=3
export KAFKA_TOPIC_USER_EVENTS_REPLICATION=3

# Order Events
export KAFKA_TOPIC_ORDER_EVENTS=order.events
export KAFKA_TOPIC_ORDER_EVENTS_PARTITIONS=6
export KAFKA_TOPIC_ORDER_EVENTS_REPLICATION=3

# Notification Events
export KAFKA_TOPIC_NOTIFICATION_EVENTS=notification.events
export KAFKA_TOPIC_NOTIFICATION_EVENTS_PARTITIONS=3
export KAFKA_TOPIC_NOTIFICATION_EVENTS_REPLICATION=3




# SECURITY
# ============================================================================
export JWT_SECRET=john-dev-jwt-secret-local-only
export JWT_EXPIRATION=86400000

# Token Prefix
JWT_TOKEN_PREFIX=Bearer

# Header Name
JWT_HEADER_NAME=Authorization

# Issuer
JWT_ISSUER=     #deloitte - app

# Audience
JWT_AUDIENCE=     #deloitte - users

# CORS Configuration

# Allowed Origins(comma - separated in env var)
SECURITY_CORS_ORIGINS=http://localhost:3000,http://localhost:4200,http://localhost:8080}

# Allowed Methods(comma - separated in env var)
SECURITY_CORS_METHODS=GET, POST, PUT, DELETE, PATCH, OPTIONS

# Allowed Headers
SECURITY_CORS_HEADERS=*

# Exposed Headers(comma - separated in env var)SECURITY_CORS_EXPOSED:Authorization, Content - Type }

# Allow Credentials
SECURITY_CORS_CREDENTIALS=true

# Max Age(seconds)
SECURITY_CORS_MAX_AGE=3600

# Rate Limiting
SECURITY_RATE_LIMIT_ENABLED=true

# Default limits
SECURITY_RATE_LIMIT_REQUESTS=100               # Requests per window
SECURITY_RATE_LIMIT_WINDOW=60               # Window size(seconds)

# Password Policy
SECURITY_PASSWORD_MIN_LENGTH=8
SECURITY_PASSWORD_MAX_LENGTH=128
SECURITY_PASSWORD_REQUIRE_UPPERCASE=true
SECURITY_PASSWORD_REQUIRE_LOWERCASE=true
SECURITY_PASSWORD_REQUIRE_DIGIT=true
SECURITY_PASSWORD_REQUIRE_SPECIAL=true
SECURITY_PASSWORD_SPECIAL_CHARS=!@#$ %^&* ()_ +-=[]{ }|;:,.<>?

# Password history
SECURITY_PASSWORD_HISTORY_SIZE=5              # Remember last 5 passwords

    # Password expiration
SECURITY_PASSWORD_EXPIRATION_DAYS=90          # Force change after 90 days
SECURITY_PASSWORD_WARNING_DAYS=14  # Warn 14 days before expiration

# Session Configuration
SECURITY_SESSION_TIMEOUT=3600                # 1 hour (seconds)
SECURITY_SESSION_MAX_CONCURRENT=3   # Maximum sessions per user

# Encryption

SECURITY_ENCRYPTION_ALGORITHM=AES
SECURITY_ENCRYPTION_KEY_SIZE=256
SECURITY_ENCRYPTION_MODE=GCM

# Key derivation
SECURITY_PBKDF2_ITERATIONS=100000
SECURITY_PBKDF2_SALT_LENGTH=16

# ============================================================================
# LOGGING
# ============================================================================
export LOGGING_LEVEL_ROOT=DEBUG
export LOGGING_LEVEL_DELOITTE=TRACE
export LOGGING_FILE_NAME=logs/john-application.log

# Enable SQL logging
export LOGGING_LEVEL_ORG_HIBERNATE_SQL=DEBUG
export LOGGING_LEVEL_ORG_HIBERNATE_TYPE=TRACE

# ============================================================================
# DEVELOPMENT TOOLS
# ============================================================================
export SWAGGER_ENABLED=true
export ACTUATOR_ENABLED=true

# ============================================================================
# NOTES
# ============================================================================
# John's setup:
# - Local MySQL on default port
# - Local PostgreSQL on default port
# - Local Redis on default port
# - Server port 8081 (to avoid conflicts with Sarah's 8080)
# ==============================================================================

echo "âœ“ John's development environment loaded!"
echo "  Server Port: $SERVER_PORT"
echo "  MySQL DB: john_db"
echo "  Developer: $DEVELOPER_NAME"
